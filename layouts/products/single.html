{{ define "main" }}
<article class="product-single">
  <header class="product-single__header">
    <h1>{{ .Title }}</h1>
  </header>

  <div class="product-single__layout">

    {{ with .Params.image }}
    <div class="product-single__image-wrapper">
      <img src="{{ . }}" alt="{{ $.Title }}" class="product-single__image">
    </div>
    {{ end }}

    <!-- GLB AUTOMÁTICO SEGÚN NOMBRE DEL ARCHIVO -->
    {{ partial "glb_viewer.html" (dict
    "id" (printf "product-viewer-%s" .File.BaseFileName)
    "src" (printf "https://w3s.link/ipfs/bafybeia72hosqwsvmoj3knqp3ihe5dmuiwbayhyrvalsd3gv4ktmoit7oa/%s.glb"
    .File.BaseFileName)
    "alt" .Title
    "height" "30rem"
    "request_zip" .Params.zip
    "request_name" .Title
    ) }}

    <div class="product-single__content">

      {{ with .Params.price }}
      <p class="product-single__price">
        {{ printf "€%.2f" . }}
      </p>
      {{ end }}

      <div class="product-single__description">
        {{ .Content }}
      </div>

      {{ with .Params.stripe_url }}
      <a href="{{ . }}" class="product-single__buy" target="_blank" rel="noopener">
        Comprar ahora
      </a>
      {{ end }}

    </div>
  </div>
</article>
{{ end }}