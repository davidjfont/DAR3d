{{ define "main" }}

<style>
    .gallery-container {
        background-color: var(--tw-colors-deep-black);
        padding: 5rem 1rem;
    }

    #gadget-cloud {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
    }

    .gadget-card {
        background-color: var(--tw-colors-ui-dark-gray);
        border: 1px solid rgba(229, 68, 42, 0.2) !important;
        border-radius: 1.5rem;
        overflow: hidden;
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        position: relative;
        display: flex;
        flex-direction: column;
    }

    .gadget-card:hover {
        transform: scale(1.03) translateY(-5px);
        box-shadow: 0 0 30px rgba(92, 255, 191, 0.2), 0 15px 35px rgba(0, 0, 0, 0.6);
        border-color: var(--tw-colors-neon-green) !important;
    }

    .gadget-card img {
        width: calc(100% - 24px);
        margin: 12px;
        height: 240px;
        object-fit: contain;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 1rem;
        transition: transform 0.4s ease;
    }

    .gadget-card:hover img {
        transform: scale(1.05);
    }

    .gadget-card h2 {
        font-size: 1.4rem;
        padding: 0 1.5rem 1.5rem;
        margin: 0;
        color: #F5F3EE !important;
        background: transparent !important;
        font-family: 'Orbitron', sans-serif;
        letter-spacing: 0.05em;
        text-align: center;
    }
</style>

<div class="gallery-container">
    <h1 class="text-4xl md:text-6xl font-title text-center mb-16 tracking-widest text-neon-green/90">
        // DAR3D <span class="text-fox-red">GADGETS</span>
    </h1>

    <div id="gadget-cloud">
        {{ range .Pages }}
        <a id="gadget-{{ .File.TranslationBaseName }}" href="{{ .RelPermalink }}" class="gadget-card group">
            <img src="{{ .Params.image }}" alt="{{ .Title }}">
            <h2>{{ .Title }}</h2>
        </a>
        {{ end }}
    </div>
</div>

<script>
    const handleGadgetHash = () => {
        const hash = window.location.hash;
        if (hash && hash.startsWith('#gadget-')) {
            const targetId = hash.substring(1);
            const target = document.getElementById(targetId);
            if (target) {
                setTimeout(() => {
                    target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    target.style.transition = 'all 0.5s ease';
                    target.style.borderColor = '#5CFFBF';
                    target.style.borderWidth = '2px';
                    target.style.boxShadow = '0 0 50px rgba(92, 255, 191, 0.5)';
                    target.style.transform = 'scale(1.05)';

                    setTimeout(() => {
                        target.style.borderColor = 'rgba(229, 68, 42, 0.2)';
                        target.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.5)';
                        target.style.transform = 'scale(1)';
                    }, 3000);
                }, 600);
            }
        }
    };

    window.addEventListener('load', handleGadgetHash);
    window.addEventListener('hashchange', handleGadgetHash);
</script>

{{ end }}