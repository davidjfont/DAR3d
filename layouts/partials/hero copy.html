    <section id="home"
            class="relative min-h-screen w-full bg-cover bg-center bg-no-repeat"
            style="background-image:url('/images/hero_bg.jpg');">

        <div class="relative max-w-7xl mx-auto grid md:grid-cols-2 gap-12 p-8 md:p-12 z-20">

            <!-- PANEL BLANCO -->
            <div class="bg-white/65 backdrop-blur-sm p-8 sm:p-12 rounded-xl shadow-2xl relative z-40">

                <p class="font-title text-sm tracking-widest text-fox-red mb-3">
                    DAR3D – Imported From Other Realities
                </p>

                <h1 class="text-5xl sm:text-7xl font-title font-bold leading-tight text-deep-black">
                    Creatures<br>From Another<br>Timeline
                </h1>

                <p class="mt-6 text-lg text-ui-dark-gray">
                    Arte 3D, criaturas imposibles y fanart cyberpunk nacido entre la naturaleza y el neón.
                </p>

                <div class="mt-10 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                    <a href="#creatures"
                    class="wireframe-border text-center px-8 py-3 bg-fox-red text-grey rounded-lg shadow-lg hover:bg-fox-red/90">
                        Explorar criaturas
                    </a>

                    <a href="https://store.dar3d.com"
                    class="text-center px-8 py-3 bg-deep-black text-neon-green border border-neon-green/50 rounded-lg">
                        Entrar en la tienda
                    </a>
                </div>
            </div>

            <!-- IMAGEN DERECHA (misma que el fondo) -->
            <div class="block w-full h-[480px] md:h-[700px] rounded-xl overflow-hidden shadow-xl relative">

                {{ partial "glb_viewer.html" (dict "src" "https://w3s.link/ipfs/bafybeia72hosqwsvmoj3knqp3ihe5dmuiwbayhyrvalsd3gv4ktmoit7oa/sewer_monster.glb" "height" "100%") }}

            </div>

    <!-- Imagen de fondo -->
    <img src=""
         class="w-full h-full object-cover absolute inset-0 z-0" style="background-color: rgba(240, 248, 255, 0.75);" alt="">

    <!-- Contenedor del modelo GLB encima -->
    <div id="hero-3d-viewer"
         class="absolute inset-0 z-20 pointer-events-auto"></div>

</div>


        </div>
    </section>




    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r155/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/examples/js/loaders/GLTFLoader.js"></script>

    <script>
    document.addEventListener("DOMContentLoaded", function () {

        const container = document.getElementById("hero-3d-container");
        if (!container) return console.error("NO SE ENCONTRÓ hero-3d-container");

        const scene = new THREE.Scene();
        scene.background = null;

        const camera = new THREE.PerspectiveCamera(
            35,
            container.clientWidth / container.clientHeight,
            0.1,
            100
        );
        camera.position.set(0, 0.4, 3.2);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        scene.add(new THREE.HemisphereLight(0x66ccff, 0x000000, 1.2));

        const dir = new THREE.DirectionalLight(0x88e0ff, 1.6);
        dir.position.set(3, 3, 5);
        scene.add(dir);

        let model;

        new THREE.GLTFLoader().load("https://w3s.link/ipfs/bafybeia72hosqwsvmoj3knqp3ihe5dmuiwbayhyrvalsd3gv4ktmoit7oa/fox.glb", gltf => {
            model = gltf.scene;
            model.scale.set(1.8, 1.8, 1.8);
            model.position.set(0, -0.3, 0);

            model.traverse(n => {
                if (n.isMesh) {
                    n.material = new THREE.MeshStandardMaterial({
                        color: 0x00ffff,
                        emissive: 0x0099ff,
                        emissiveIntensity: 1.5,
                        opacity: 0.95,
                        transparent: true,
                        metalness: 0.5,
                        roughness: 0.15
                    });
                }
            });

            scene.add(model);
            animate();
        });

        let rotX = 0, rotY = 0;

        document.addEventListener("mousemove", e => {
            rotY = ((e.clientX / window.innerWidth) * 2 - 1) * 0.8;
            rotX = (-(e.clientY / window.innerHeight) * 2 + 1) * 0.4;
        });

        function animate() {
            requestAnimationFrame(animate);

            if (model) {
                model.rotation.x += (rotX - model.rotation.x) * 0.06;
                model.rotation.y += (rotY - model.rotation.y) * 0.06;

                const pulse = 0.7 + Math.sin(Date.now() * 0.002) * 0.1;
                model.traverse(n => n.isMesh && (n.material.emissiveIntensity = pulse));
            }

            renderer.render(scene, camera);
        }

        window.addEventListener("resize", () => {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });

    });
    </script>
<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/examples/js/controls/OrbitControls.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {

    const container = document.getElementById("hero-3d-viewer");
    if (!container) return console.error("NO SE ENCONTRÓ hero-3d-viewer");

    const scene = new THREE.Scene();
    scene.background = null;

    const camera = new THREE.PerspectiveCamera(
        40,
        container.clientWidth / container.clientHeight,
        0.1,
        100
    );
    camera.position.set(0, 0.4, 3);

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    // Luz
    const hemi = new THREE.HemisphereLight(0xffffff, 0x222233, 1.2);
    scene.add(hemi);

    const dir = new THREE.DirectionalLight(0xffffff, 1.5);
    dir.position.set(2, 2, 4);
    scene.add(dir);

    // Orbit Controls
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.minDistance = 0.8;
    controls.maxDistance = 6;
    controls.autoRotate = true;
    controls.autoRotateSpeed = 1.2;

    // Cargar GLB
    let model;
    new THREE.GLTFLoader().load("https://w3s.link/ipfs/bafybeia72hosqwsvmoj3knqp3ihe5dmuiwbayhyrvalsd3gv4ktmoit7oa/fox.glb", gltf => {

        model = gltf.scene;
        model.scale.set(1.6, 1.6, 1.6);
        model.position.set(0, -0.3, 0);

        scene.add(model);
        animate();
    });

    function animate() {
        requestAnimationFrame(animate);

        controls.update();
        renderer.render(scene, camera);
    }

    window.addEventListener("resize", () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    });

});
</script>
